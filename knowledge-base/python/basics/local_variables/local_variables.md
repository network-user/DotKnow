---
title: "Local Variables"
difficulty: medium
tags: [local_variables]
added: "2026-02-18"
last_reviewed: null
---

## Что это такое

Область видимости — это часть программы, в которой можно обращаться к определённой переменной или функции. 
В Python области видимости определяют, где и как можно использовать переменные.
Для определения последовательности, в которой Python ищет значение переменной, 
используется правило LEGB. Это правило представляет собой порядок поиска переменных в следующих областях 
видимости: Local (локальная), Enclosing (вложенная), Global (глобальная) и Built-in (встроенная).


## Ключевые концепции

LEGB
Local - как ранее говорилось, локальные переменные, которые определяются внутри функции
```python
x = 10  # глобальная

def greet():
    x = 0  # локальная — перекрывает глобальную
    print(x)

greet()  # → 0
print(x) # → 10  (глобальная не изменилась)
```
E - Enclosing (Объемлющая)
Область видимости внешней функции при вложенных функциях. Внутренняя функция видит переменные внешней, но не наоборот.
```python
def outer():
    x = 10  # enclosing для inner()

    def inner():
        # нет своей x → берёт из enclosing
        print(x)  # → 10

    inner()

outer()
```
- Чтобы изменить переменную из enclosing-области, используется nonlocal
```python
def outer():
    count = 0

    def inner():
        nonlocal count  # указываем явно
        count += 1
        print(count)  # → 1

    inner()

outer()

```
- G - Global (Глобальная)
- Переменные, объявленные на уровне модуля (вне всех функций). Функции могут их читать, но для изменения нужен global.
```python
x = 100  # глобальная

def show():
    print(x)  # читаем — OK, → 100

def modify():
    global x  # объявляем намерение изменить
    x = 999

show()    # → 100
modify()
show()    # → 999

```
### __B - Built-in (Встроенная)__
- Имена, встроенные в сам Python: print, len, range, int, list и т.д. Python ищет их последними — а значит, их легко случайно перекрыть своей переменной.
```python
# ❌ Плохо — перекрываем встроенную функцию
list = [1, 2, 3]
print(list([4, 5]))  # TypeError! list больше не функция

# ✅ Хорошо
my_list = [1, 2, 3]
print(len(my_list))  # → 3  (len — из built-in)

```
| Уровень   | Где объявлена                    | Ключевое слово для изменения |
| --------- | -------------------------------- | ---------------------------- |
| Local     | Внутри текущей функции           | —                            |
| Enclosing | Во внешней функции (вложенность) | nonlocal                     |
| Global    | На уровне модуля                 | global                       |
| Built-in  | Встроен в Python (builtins)      | — (лучше не трогать)         |

## Частые ошибки

Главное правило: никогда не называй свои переменные именами встроенных функций — list, dict, len, sum, print, id, type. Это одна из самых частых ошибок.

## Вопросы для самопроверки

- TODO
