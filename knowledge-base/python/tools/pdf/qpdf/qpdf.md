---
title: "Qpdf"
difficulty: medium
tags: [qpdf, pdf, pikepdf]
added: "2026-02-20"
last_reviewed: null
---

## Что это такое

**qpdf** — это низкоуровневый инструмент и C++‑библиотека для структурных трансформаций PDF-файлов. Он работает через интерфейс командной строки (CLI) и позволяет выполнять такие операции, как линейаризация, шифрование/дешифрование, разбиение и склейка файлов, а также исправление поврежденных PDF.

В Python для работы с qpdf чаще всего используют библиотеку **pikepdf**, которая является удобной и высокоуровневой оберткой над qpdf.

## Ключевые концепции

- **qpdf (CLI)**: Мощный инструмент для пакетной обработки PDF через терминал. Идеален для автоматизации и скриптов.
- **pikepdf (Python library)**: Python-библиотека, предоставляющая API для работы с PDF. Под капотом использует qpdf, что гарантирует производительность и надежность.
- **Прямой вызов**: Можно вызывать qpdf напрямую из Python с помощью модуля `subprocess`, но это менее удобно и более подвержено ошибкам, чем использование `pikepdf`.

## Установка

### Утилита qpdf

```bash
# Debian/Ubuntu
sudo apt install qpdf

# macOS (Homebrew)
brew install qpdf

# Windows (choco)
choco install qpdf
```

### Библиотека pikepdf

```bash
pip install pikepdf
```

## Примеры использования CLI

#### Расшифровать файл:
```bash
qpdf --decrypt input_encrypted.pdf output_decrypted.pdf
```

#### Объединить несколько файлов в один:
```bash
qpdf --empty --pages file1.pdf 1-z file2.pdf 1-z -- output_merged.pdf
```

#### Разделить файл на отдельные страницы:
```bash
qpdf input.pdf --split-pages --qdf -- R-%d.pdf
```

*Все примеры кода на Python находятся в файле `qpdf.py`.*

## Частые ошибки

1. **Путаница между qpdf и pikepdf**: Важно понимать, что `qpdf` — это CLI-утилита, а `pikepdf` — это Python-библиотека для работы с ней. Для работы из Python почти всегда лучше выбрать `pikepdf`.
2. **Неправильные аргументы командной строки**: CLI `qpdf` имеет множество опций. Ошибки в синтаксисе команд — частое явление. Всегда сверяйтесь с документацией (`qpdf --help`).
3. **Проблемы с путями в `subprocess`**: При прямом вызове `qpdf` из Python через `subprocess` часто возникают ошибки из-за неправильно указанных путей к файлам или отсутствия `qpdf` в системной переменной `PATH`.

## Вопросы для самопроверки

- В чем основное различие между `qpdf` и `pikepdf`?
- Как с помощью `qpdf` объединить два PDF-файла в один?
- Зачем может понадобиться вызывать `qpdf` напрямую через `subprocess`, вместо использования `pikepdf`?
- Какая команда `pikepdf` используется для создания нового PDF-документа?
