# DotKnow — Project Intelligence

## Идея проекта

DotKnow — персональный репозиторий знаний для разработчиков.
Цель: изучил тему → зафиксировал → повторил через время.
Проект строится в три этапа:
1. Репозиторий знаний (этот репо) — структурированное хранилище тем
2. Telegram-бот — ежедневное повторение, AI-генерация тестов по материалу из репо
3. Продукт — возможность подключить свой репозиторий или тренироваться по общей базе

---

## Принципы структуры

Каждая тема — это **самодостаточная папка** из трёх файлов:

```
lang/section/topic_slug/
    topic_slug.md     # теория (человекочитаемая)
    topic_slug.py     # практика (примеры кода)
    meta.json         # машиночитаемые метаданные (для бота)
```

Правило: **одна папка = одна тема**. Не смешивать темы в одном файле.

---

## Файловые роли

| Файл | Назначение | Читает |
|------|-----------|--------|
| `topic.md` | Теория, объяснения, вопросы для самопроверки | Человек + бот (секция "Вопросы для самопроверки") |
| `topic.py` | Примеры кода, антипаттерны, блоки для заданий | Человек + бот (блоки `# --- Пример N ---`) |
| `meta.json` | slug, difficulty, tags, quiz_types, даты | Только бот |
| `_meta/topics_index.json` | Плоский индекс всех тем | Только бот (загружается при старте) |
| `README.md` | Главная навигация репо | GitHub + человек |
| `lang/OVERVIEW.md` | Навигация внутри языкового раздела | Человек |
| `scripts/new_topic.py` | Генератор новой темы | CLI |

---

## Соглашения по именованию

- Папки и slug: `snake_case` (например: `local_variables`, `list_comprehension`)
- Файлы `.md` и `.py` называются **точно так же**, как папка
- Языковые разделы: `python/`, `javascript/`, `sql/`, `algorithms/`
- Разделы внутри языка: `basics/`, `oop/`, `async/`, `decorators/` и т.д.

---

## Формат `meta.json`

```json
{
  "title": "Человекочитаемое название",
  "slug": "snake_case_slug",
  "section": "python/basics",
  "difficulty": "easy | medium | hard",
  "tags": ["tag1", "tag2"],
  "added": "YYYY-MM-DD",
  "last_reviewed": null,
  "quiz_types": ["theory", "code_writing", "find_the_bug", "fill_the_gap"]
}
```

**difficulty по умолчанию:** `medium`

---

## Формат `topic.md`

Обязательный YAML frontmatter в начале, затем фиксированные секции:

```markdown
---
title: "Название"
difficulty: medium
tags: [tag1, tag2]
added: "YYYY-MM-DD"
last_reviewed: null
---

## Что это такое
## Ключевые концепции
## Частые ошибки
## Вопросы для самопроверки   <- бот парсит именно эту секцию
```

---

## Формат `topic.py`

Блоки кода разделяются комментарием-заголовком — бот нарезает их по этому паттерну:

```python
# --- Пример N: Название примера ---
# код...
```

---

## Как добавить новую тему

```bash
python scripts/new_topic.py --lang python --section basics --topic topic_slug
```

Скрипт создаёт папку, генерирует три файла-шаблона и обновляет `_meta/topics_index.json`.

---

## Уровни сложности

| Значение | Смысл |
|----------|-------|
| `easy`   | Базовые концепции, с которых начинают |
| `medium` | Стандартный рабочий материал (дефолт) |
| `hard`   | Продвинутые темы, требующие опыта |

---

## Типы заданий для бота

| Тип | Описание |
|-----|----------|
| `theory`       | Вопрос из секции "Вопросы для самопроверки" в `.md` |
| `code_writing` | Написать код по условию с нуля |
| `find_the_bug` | Найти ошибку в намеренно сломанном блоке из `.py` |
| `fill_the_gap` | Заполнить пропущенную часть блока из `.py` |

---

## Чего не делать

- Не создавать файлы вне структуры `lang/section/slug/`
- Не называть файлы иначе, чем slug папки
- Не добавлять темы в `topics_index.json` вручную — только через скрипт
- Не смешивать несколько тем в одной папке
- Не удалять секцию `## Вопросы для самопроверки` из `.md` — бот зависит от неё
